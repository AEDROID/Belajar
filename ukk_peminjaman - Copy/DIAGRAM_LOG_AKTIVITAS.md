# ğŸ“Š Diagram Alur Log Aktivitas

## ğŸ”„ Alur Kerja Sistem Log Aktivitas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER MELAKUKAN AKTIVITAS                      â”‚
â”‚          (Login, CRUD Alat, CRUD Peminjaman, dll)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CONTROLLER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  use LogsActivity;  // Trait sudah di-import             â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  public function store(Request $request)                  â”‚  â”‚
â”‚  â”‚  {                                                         â”‚  â”‚
â”‚  â”‚      // 1. Proses utama (Create, Update, dll)            â”‚  â”‚
â”‚  â”‚      $item = Item::create($request->all());              â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚      // 2. Catat log aktivitas                           â”‚  â”‚
â”‚  â”‚      $this->logCreate('Item', "Detail...");              â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚      return redirect()->back();                           â”‚  â”‚
â”‚  â”‚  }                                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TRAIT: LogsActivity                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  protected function logActivity($aktivitas, $modul, ...)  â”‚  â”‚
â”‚  â”‚  {                                                         â”‚  â”‚
â”‚  â”‚      LogAktivitas::create([                               â”‚  â”‚
â”‚  â”‚          'user_id' => Auth::id(),                         â”‚  â”‚
â”‚  â”‚          'aktivitas' => $aktivitas,                       â”‚  â”‚
â”‚  â”‚          'modul' => $modul,                               â”‚  â”‚
â”‚  â”‚          'ip_address' => request()->ip(),                 â”‚  â”‚
â”‚  â”‚          'user_agent' => request()->userAgent(),          â”‚  â”‚
â”‚  â”‚      ]);                                                   â”‚  â”‚
â”‚  â”‚  }                                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE: log_aktivitas                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  id  | user_id | aktivitas | modul | keterangan | ...    â”‚  â”‚
â”‚  â”‚  1   | 1       | Login     | Auth  | User login | ...    â”‚  â”‚
â”‚  â”‚  2   | 1       | Tambah    | Alat  | Laptop     | ...    â”‚  â”‚
â”‚  â”‚  3   | 1       | Update    | Alat  | Edit stok  | ...    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ADMIN MELIHAT LOG AKTIVITAS                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  LogAktivitasController::index()                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ Ambil data dari database                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ Filter berdasarkan modul, tanggal, search            â”‚  â”‚
â”‚  â”‚  â”œâ”€ Pagination (20 per halaman)                          â”‚  â”‚
â”‚  â”‚  â””â”€ Tampilkan di view                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  VIEW: log-aktivitas/index.blade.php             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  FILTER & SEARCH                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  [Search] [Modul] [Tanggal Mulai] [Tanggal Akhir] â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  TABEL LOG AKTIVITAS                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ No â”‚ Time â”‚ User â”‚ Modul â”‚ Activity â”‚ Detail â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 1  â”‚ ...  â”‚ ...  â”‚ Auth  â”‚ Login    â”‚ ...    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ 2  â”‚ ...  â”‚ ...  â”‚ Alat  â”‚ Create   â”‚ ...    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚  [Pagination: << 1 2 3 >>]                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Struktur File

```
ukk_peminjaman/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â””â”€â”€ Controllers/
â”‚   â”‚       â”œâ”€â”€ LogAktivitasController.php  â† Controller untuk log
â”‚   â”‚       â”œâ”€â”€ AlatController.php          â† Implementasi logging
â”‚   â”‚       â””â”€â”€ PeminjamanController.php    â† Implementasi logging
â”‚   â”‚
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â””â”€â”€ LogAktivitas.php                â† Model log aktivitas
â”‚   â”‚
â”‚   â””â”€â”€ Traits/
â”‚       â””â”€â”€ LogsActivity.php                â† Trait helper logging
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â””â”€â”€ xxxx_create_log_aktivitas_table.php  â† Migration
â”‚   â”‚
â”‚   â””â”€â”€ seeders/
â”‚       â””â”€â”€ LogAktivitasSeeder.php          â† Seeder untuk testing
â”‚
â”œâ”€â”€ resources/
â”‚   â””â”€â”€ views/
â”‚       â”œâ”€â”€ log-aktivitas/
â”‚       â”‚   â””â”€â”€ index.blade.php             â† View halaman log
â”‚       â”‚
â”‚       â””â”€â”€ layouts/
â”‚           â””â”€â”€ navigation.blade.php        â† Menu navigation
â”‚
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ web.php                             â† Routes
â”‚
â””â”€â”€ Dokumentasi/
    â”œâ”€â”€ QUICKSTART_LOG_AKTIVITAS.md         â† Quick start
    â”œâ”€â”€ CARA_MEMBUAT_LOG_AKTIVITAS.md       â† Tutorial lengkap
    â”œâ”€â”€ LOG_AKTIVITAS_DOKUMENTASI.md        â† Dokumentasi fitur
    â”œâ”€â”€ RINGKASAN_LOG_AKTIVITAS.md          â† Ringkasan
    â””â”€â”€ DIAGRAM_LOG_AKTIVITAS.md            â† File ini
```

---

## ğŸ”„ Alur Implementasi di Controller

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Import Trait                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  use App\Traits\LogsActivity;                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Gunakan Trait di Class                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  class YourController extends Controller              â”‚ â”‚
â”‚  â”‚  {                                                     â”‚ â”‚
â”‚  â”‚      use LogsActivity;                                â”‚ â”‚
â”‚  â”‚  }                                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: Panggil Method Logging                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  public function store(Request $request)              â”‚ â”‚
â”‚  â”‚  {                                                     â”‚ â”‚
â”‚  â”‚      // Proses utama                                  â”‚ â”‚
â”‚  â”‚      $item = Item::create($request->all());          â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚      // Logging                                       â”‚ â”‚
â”‚  â”‚      $this->logCreate('Item', "Detail...");          â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚      return redirect()->back();                       â”‚ â”‚
â”‚  â”‚  }                                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Alur Data Filter & Search

```
USER INPUT
    â”‚
    â”œâ”€ Search: "login"
    â”œâ”€ Modul: "Auth"
    â”œâ”€ Tanggal Mulai: "2026-01-01"
    â””â”€ Tanggal Selesai: "2026-01-31"
    â”‚
    â–¼
CONTROLLER (LogAktivitasController::index)
    â”‚
    â”œâ”€ Query Builder
    â”‚   â”œâ”€ where('modul', 'Auth')
    â”‚   â”œâ”€ whereDate('created_at', '>=', '2026-01-01')
    â”‚   â”œâ”€ whereDate('created_at', '<=', '2026-01-31')
    â”‚   â””â”€ where('aktivitas', 'like', '%login%')
    â”‚
    â–¼
DATABASE QUERY
    â”‚
    â–¼
HASIL (Filtered Data)
    â”‚
    â–¼
VIEW (Tampilkan di tabel)
```

---

## ğŸ¨ Alur Tampilan Badge Modul

```
Modul dari Database
    â”‚
    â”œâ”€ "Auth"       â†’ Badge Ungu   ğŸŸ£
    â”œâ”€ "Peminjaman" â†’ Badge Biru   ğŸ”µ
    â”œâ”€ "Alat"       â†’ Badge Hijau  ğŸŸ¢
    â”œâ”€ "Kategori"   â†’ Badge Kuning ğŸŸ¡
    â”œâ”€ "User"       â†’ Badge Merah  ğŸ”´
    â””â”€ Lainnya      â†’ Badge Abu    âšª
    â”‚
    â–¼
Tampil di View dengan CSS Tailwind
```

---

## ğŸ” Alur Keamanan

```
USER REQUEST
    â”‚
    â–¼
MIDDLEWARE: auth
    â”‚
    â”œâ”€ User login? â”€â”€â”€ NO â”€â”€â†’ Redirect ke Login
    â”‚
    YES
    â”‚
    â–¼
MIDDLEWARE: role:admin
    â”‚
    â”œâ”€ User admin? â”€â”€â”€ NO â”€â”€â†’ Error 403 Forbidden
    â”‚
    YES
    â”‚
    â–¼
CONTROLLER: LogAktivitasController
    â”‚
    â–¼
VIEW: log-aktivitas/index.blade.php
```

---

## ğŸ“ˆ Alur Pagination

```
DATABASE: 100 log entries
    â”‚
    â–¼
CONTROLLER: paginate(20)
    â”‚
    â”œâ”€ Page 1: Log 1-20
    â”œâ”€ Page 2: Log 21-40
    â”œâ”€ Page 3: Log 41-60
    â”œâ”€ Page 4: Log 61-80
    â””â”€ Page 5: Log 81-100
    â”‚
    â–¼
VIEW: {{ $logs->links() }}
    â”‚
    â–¼
TAMPILAN: [<< 1 2 3 4 5 >>]
```

---

## ğŸ”„ Lifecycle Log Aktivitas

```
1. USER ACTION
   â†“
2. CONTROLLER METHOD
   â†“
3. TRAIT METHOD (logActivity)
   â†“
4. MODEL (LogAktivitas::create)
   â†“
5. DATABASE (INSERT)
   â†“
6. ADMIN VIEW (SELECT)
   â†“
7. DISPLAY (Tabel)
```

---

## ğŸ¯ Method Logging yang Tersedia

```
LogsActivity Trait
    â”‚
    â”œâ”€ logActivity($aktivitas, $modul, $keterangan)  â† Method utama
    â”‚
    â”œâ”€ logLogin()                                     â† Helper login
    â”œâ”€ logLogout()                                    â† Helper logout
    â”‚
    â”œâ”€ logCreate($modul, $keterangan)                â† Helper CRUD
    â”œâ”€ logUpdate($modul, $keterangan)                â† Helper CRUD
    â”œâ”€ logDelete($modul, $keterangan)                â† Helper CRUD
    â””â”€ logView($modul, $keterangan)                  â† Helper CRUD
```

---

## ğŸ“ Contoh Flow Lengkap

```
SCENARIO: User menambah data Alat baru

1. USER
   â”œâ”€ Mengisi form tambah alat
   â””â”€ Klik tombol "Simpan"

2. REQUEST
   â”œâ”€ POST /admin/alat
   â””â”€ Data: nama_alat, kategori_id, stok, denda

3. CONTROLLER (AlatController::store)
   â”œâ”€ Validasi data
   â”œâ”€ Alat::create($request->all())
   â””â”€ $this->logCreate('Alat', "Menambah alat: Laptop")

4. TRAIT (LogsActivity::logCreate)
   â”œâ”€ Panggil logActivity()
   â””â”€ Parameter: "Menambah data Alat", "Alat", "Menambah alat: Laptop"

5. TRAIT (LogsActivity::logActivity)
   â””â”€ LogAktivitas::create([
        'user_id' => 1,
        'aktivitas' => 'Menambah data Alat',
        'modul' => 'Alat',
        'keterangan' => 'Menambah alat: Laptop',
        'ip_address' => '127.0.0.1',
        'user_agent' => 'Mozilla/5.0...'
      ])

6. DATABASE
   â””â”€ INSERT INTO log_aktivitas ...

7. RESPONSE
   â””â”€ Redirect ke /admin/alat dengan success message

8. ADMIN LIHAT LOG
   â”œâ”€ Akses /admin/log-aktivitas
   â””â”€ Melihat log "Menambah data Alat" di tabel
```

---

**Diagram ini membantu memahami alur kerja sistem Log Aktivitas secara visual** ğŸ“Š

Untuk detail implementasi, lihat:
- `CARA_MEMBUAT_LOG_AKTIVITAS.md` - Tutorial lengkap
- `LOG_AKTIVITAS_DOKUMENTASI.md` - Dokumentasi fitur
